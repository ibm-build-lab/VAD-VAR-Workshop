---
title: '103: API-enabled application integration'
timeToComplete: 45
updated: 2023-05-25
---

# 103: Integración de aplicaciones mediante API

## Introducción

La automatización de las interacciones con los clientes puede eliminar los pasos manuales, la introducción de datos en varias aplicaciones diferentes y los posibles errores y retrasos, todo lo cual supone costes adicionales para su empresa. Esta demostración automatiza una serie de pasos para: obtener y validar la información de entrada de un cliente con un problema, abrir un caso en Salesforce, adjuntar la información entrante al caso y responder al cliente con el número de caso y la fecha prevista de resolución.

Para automatizar esta interacción con el cliente, utilizaremos tanto API como integraciones con aplicaciones back-end. El escenario de demostración está relacionado con la reparación de un coche, pero es sólo un ejemplo. Las mismas técnicas son aplicables a su entorno en apoyo de sus clientes.

Empecemos.

## 1 - Acceder al entorno

| **1.1**          | **Inicie sesión en Cloud Pak para la integración**                                                                                                                                                                                                                                     |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Veamos IBM Cloud Pak for Integration en acción.                                                                                                                                                                                                                                        |
| **Acción** 1.1.1 | Abra Cloud Pak for Integration y haga clic en las **credenciales proporcionadas por IBM (sólo administrador)**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-1-1-1.png) |
| **Narración**    | Aquí tengo una versión en la nube del producto en IBM Cloud. Permítanme iniciar sesión aquí.                                                                                                                                                                                           |
| **Acción** 1.1.2 | Introduzca su **nombre de usuario** y **contraseña** de administrador y haga clic en **Iniciar sesión**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-1-1-2.png)        |

| **1.2**          | **Ver la pantalla de inicio de Cloud Pak for Integration**                                                                                                                                                                                                                                                                                                                                  |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | ¡Bienvenido a IBM Cloud Pak for Integration! Ahora estamos en la pantalla de inicio que muestra todas las capacidades del pak, reunidas en un solo lugar. Las capacidades de integración especializadas para la gestión de API, integración de aplicaciones, mensajería y más, se construyen sobre potentes servicios de automatización. Veamos las capacidades de integración disponibles. |
| **Acción** 1.2.1 | Muestre la **pantalla de inicio** y haga clic en **Instancias de integración**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-1-2-1.png)                                                                                                                                      |

<QuizAlert text='¡Aviso! El material del cuestionario se marcará así' />

| **1.3**          | **Acceso Instancias de integración**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | A través de una única interfaz, verá todas las capacidades de integración desplegadas y tendrá la posibilidad de desplegar nuevas capacidades que su equipo pueda necesitar, como gestión de API, integración de aplicaciones, mensajería empresarial, eventos y transferencia de alta velocidad. Para automatizar las interacciones de los clientes con nuestra empresa en esta demostración, utilizaremos App Connect para la integración de aplicaciones, API Connect para la gestión de API y el repositorio de activos como nuestro hub centralizado para permitir que nuestros equipos trabajen juntos con activos de integración. Abramos nuestro App Connect Designer. |
| **Acción** 1.3.1 | En la página **Instancias de integración**, haga clic en **ace-designer-demo** para abrir el Panel de integración.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-1-3-1.png)                                                                                                                                                                                                                                                                                                                                                                                      |

## 2 - Importar el flujo

<QuizAlert text='¡Aviso! El material del cuestionario se marcará así' />

| **2.1**          | **Crear un flujo**                                                                                                                                                                                                                                                                                                                                          |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Estamos en la herramienta de diseño. Aquí es donde podemos crear todos nuestros flujos de integración API y gestionar nuestra conectividad a los servicios y puntos finales. Como estamos empezando, no hay nada que ver todavía. Construyamos algo de lógica de integración y veamos lo simple que es crear nuestro flujo desde el Repositorio de Activos. |
| **Acción** 2.1.1 | Haga clic en **Crear a partir de un activo**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script2.1.1.png)                                                                                                                                               |

| **2.2**          | **Seleccione un activo**                                                                                                                                                                                                                                                                                                                          |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Hagamos clic en el signo + para importar este flujo.                                                                                                                                                                                                                                                                                              |
| **Acción** 2.2.1 | Haga clic en el signo **+** a la derecha de la fila **Car Insurance API Lab Short V3**.icono infoBusque "Seguro de automóvil" si el flujo no aparece en la primera página.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-2-2-1.png) |

## 3 - Revisión del flujo

| **3.1**          | **Propiedades de revisión**                                                                                                                                                                                                                                                                            |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | El diseñador construye tu API por ti. No tienes que preocuparte de especificaciones OpenAPI o editores Swagger - todo está integrado. Estos son los campos que vamos a utilizar para nuestra API. Tenga en cuenta que le decimos a nuestra API qué campo es la clave - en nuestro caso, CaseReference. |
| **Acción** 3.1.1 | Abra la vista **Propiedades**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-1-1.png)                                                                                                  |
| **Acción** 3.1.2 | Mostrar la vista **Propiedades**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-1-2.png)                                                                                               |
| **Acción** 3.1.3 | Abra la vista **Operaciones**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-1-3.png)                                                                                                  |

| **3.2**          | **Operaciones de revisión**                                                                                                                                                                                                                                                 |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | La vista Operaciones muestra las acciones que la API expone junto con los datos. En esta demostración, vamos a construir sólo una operación: "Crear Reclamación de Reparación de Coche". Podemos añadir más posteriormente si lo deseamos. Comprobemos la lógica del flujo. |
| **Acción** 3.2.1 | Muestre la vista **Operaciones**. Haga clic en **Editar flujo**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-2-1.png)                                     |

| **3.3**          | **Revisar el flujo**                                                                                                                                                                                                                                                                                                                                                                                    |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Aquí tenemos nuestro flujo de demostración. En el editor de flujo de diseño, podemos editar y cambiar nuestro flujo. Somos una empresa de reparación de coches que quiere crear una API que permita a los clientes enviarnos fotos de sus coches, junto con descripciones de lo que hay que hacer con ellos. Con esta información crearemos un caso en Salesforce. Exploremos nuestro flujo en detalle. |
| **Acción** 3.3.1 | Cierre el cuadro de **solicitud** pulsando la **X**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-3-1.png)                                                                                                                                                                             |
| **Acción** 3.3.2 | Explique el flujo y desplácese por todos los conectores del flujo. Vuelva a abrir la **Solicitud** haciendo clic en el primer paso del flujo.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-3-2.png)                                                                                    |

| **3.4**          | **Solicitud de revisión**                                                                                                                                                                                                                             |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Nuestro flujo comienza recibiendo la solicitud de reparación del coche del cliente con foto a través de una API. Designer crea automáticamente una "solicitud" y una "respuesta" API para su flujo API.                                               |
| **Acción** 3.4.1 | Muestre la casilla **Solicitud** (1). Haga clic para abrir el paso **Si** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-4-1.png) |

| **3.5**          | **Validar la foto**                                                                                                                                                                                                                                                   |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | A continuación, validamos la foto. Aquí tenemos una simple sentencia IF que comprueba si PhotoOfCar está vacía. Si no está vacía, seguimos adelante para recuperar los contactos mediante la conexión a Salesforce.                                                   |
| **Acción** 3.5.1 | Explore el paso **If** (1). Haga clic en el conector **Salesforce - Recuperar contactos** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-5-1.png) |

<QuizAlert text='¡Aviso! El material del cuestionario se marcará así' />

| **3.6**          | **Recuperar contactos**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora, utilizamos un conector para crear un caso en Salesforce con los datos de la API. Este caso es donde almacenamos los detalles y el progreso de nuestra reparación. Utilizamos un nombre de contacto codificado: "Andy Young". Es el contacto de la compañía de seguros. Las cuentas de desarrollador de Salesforce tienen un conjunto de datos rellenados previamente que puede utilizar para realizar pruebas. Andy Young' es uno de esos contactos rellenados previamente. Probemos nuestra conexión con Salesforce. Voy a cambiar el contacto a "Andrew Young" y probar la conexión.La prueba muestra que no tenemos un "Andrew Young". Volvamos a cambiarlo por "Andy Young" y probemos de nuevo. Ahora recibimos una respuesta correcta. Esto demuestra que nuestra conexión funciona. Comprobemos los detalles. Aquí podemos ver la salida devuelta por Salesforce, incluido el ID de contacto. |
| **Acción** 3.6.1 | Mostrar el cuadro **Salesforce - Recuperar contactos**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-6-1.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Acción** 3.6.2 | Cambie el **Nombre completo** a **Andrew Young** (1). Haga clic en el icono resaltado para **Intentar esta acción**, que prueba la conexión (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-6-2.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Acción** 3.6.3 | En el cuadro de diálogo **Probar esta acción**, marque **No volver a mostrar este cuadro de diálogo** (1) y haga clic en **Continuar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-6-3.png)Aparecerá el resultado.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script3.6.3.png)                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Narración**    | La prueba muestra que no tenemos un 'Andrew Young'. Volvamos a cambiarlo por "Andy Young" y probemos de nuevo. Ahora recibimos una respuesta correcta. Esto demuestra que nuestra conexión funciona. Comprobemos los detalles. Aquí podemos ver la salida devuelta por Salesforce, incluido el ID de contacto.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Acción** 3.6.4 | Vuelva a cambiar el **nombre completo** a **Andy Young** (1). Haga clic en el icono resaltado para **Probar** de nuevo (2). Haga clic en el enlace **Ver detalles** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script3.6.4.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Acción** 3.6.5 | En la pestaña **Salida**, abra el objeto **Contacto 1**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-6-5.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Acción** 3.6.6 | Cierre todas las pestañas de diálogo. Haga clic en el conector **Salesforce - Crear caso**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-3-6-6.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

| **3.7**          | **Crear un caso**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora que tenemos el ID que necesitamos, vamos a crear nuestro caso de Salesforce. Observe que simplemente reutilizamos el mismo conector de Salesforce pero con una operación y datos diferentes. Aquí podemos ver que nuestro ID de contacto proviene de la anterior llamada a Salesforce 'recuperar contacto'. El nombre y la dirección de correo electrónico proceden de la solicitud API. El conector sabe que campos como 'Tipo de caso' tienen un número limitado de valores en Salesforce, por lo que los convierte automáticamente en listas desplegables de valores que puede elegir. |
| **Acción** 3.7.1 | Explore el cuadro Salesforce - Crear **caso** (1). Abra el conector Salesforce - Crear **anexo** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script3.7.1.png)                                                                                                                                                                                                                                                                                                                           |

| **3.8**          | **Crear un archivo adjunto**                                                                                                                                                                                                                                                                                                                                                                                        |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Para añadir una fotografía, tenemos que crear un archivo adjunto de Salesforce. Eso será fácil, ya que simplemente usamos el conector de nuevo. Observe que utilizamos el ID de caso que es un valor devuelto por la llamada al conector 'Crear caso', que se mantiene en el flujo automáticamente. Enviamos el PhotoOfCar como una cadena base64 y le decimos a Salesforce que el tipo de contenido es image/jpeg. |
| **Acción** 3.8.1 | Explore el cuadro **Salesforce - Crear anexo** (1). Abra el conector **Crear comentario de caso** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script3.8.1.png)                                                                                                                                              |

| **3.9**          | **Crear un comentario de caso**                                                                                                                                                                                                                                       |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora añadiremos un comentario al caso con el conector de Salesforce indicando que este caso fue abierto por IBM Cloud Pak for Integration.                                                                                                                           |
| **Acción** 3.9.1 | Explore el cuadro de **comentarios Salesforce - Crear caso** (1). Abra el conector **Respuesta** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script3.9.1.png) |

| **3.10**          | **Responder al cliente**                                                                                                                                                                                                                                                                   |
| :---------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**     | Aquí tenemos la respuesta que enviamos al cliente tras la llamada a la API. Esta respuesta incluye la referencia de su caso en Salesforce para futuras consultas, una estimación de cuánto tardará la reparación y cuánto costará. Ahora que hemos creado el flujo, ¡pongámoslo en marcha! |
| **Acción** 3.10.1 | Explore el cuadro **Respuesta** (1). Haga clic en **Hecho** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script3.10.1.png)                                                          |

## 4 - Probar el flujo

| **4.1**          | **Iniciar el flujo**                                                                                                                                                                                                                                                                      |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora que hemos visto el flujo de integración, vamos a ponerlo en marcha. Cuando nuestro flujo esté en marcha, tenemos que probarlo.                                                                                                                                                      |
| **Acción** 4.1.1 | Inicie el flujo cambiando el **conmutador** resaltado en la parte superior derecha de **Detenido** a **Iniciado**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-1-1.png) |

| **4.2**          | **Probar el caudal**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Las API pueden probarse de varias formas, y nosotros realizaremos tres pruebas diferentes: una en la herramienta de diseño ahora; otra cuando nuestra API se despliegue en el Cloud Pak App Connect Runtime; y una prueba final que llamará a través de una pasarela.En la pestaña Test, podemos obtener todos los detalles para probar nuestra API - por ejemplo, endpoint y credenciales. Y aquí podemos probar fácilmente nuestro flujo. Sólo tenemos que generar un cuerpo y enviarlo. Voilá, recibimos la respuesta esperada con la información del caso. |
| **Acción** 4.2.1 | Abra la pestaña **Probar** (1). Abra **POST /CarRepairClaim** (2) y haga clic en **Probar** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.2.1.png)                                                                                                                                                                                                                                                                                               |
| **Acción** 4.2.2 | Haga clic en **Generar** (1) y **Enviar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.2.2.png)                                                                                                                                                                                                                                                                                                                                                 |
| **Acción** 4.2.3 | Mostrar los detalles de **la respuesta**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-2-3.png)                                                                                                                                                                                                                                                                                                                                               |

| **4.3**          | **Comprobar Salesforce**                                                                                                                                                                                                                                                                                                                                  |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Comprobemos nuestro sistema Salesforce para ver si tenemos un nuevo caso. Abramos la página Casos. En la sección Vistos recientemente, podemos comprobar todos los casos abiertos. Aquí tenemos nuestro caso con toda la información, incluida la imagen. Con esta información, nuestro equipo de relación con el cliente puede ayudar a nuestro cliente. |
| **Acción** 4.3.1 | Abra el sitio **Salesforce Dev Account** (1). En el menú **App Launcher**, busque **Cases** (2). Abra la página **Casos** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.3.1.png)                                                            |
| **Acción** 4.3.2 | En la vista **Casos**, abra el último caso de **Avería de Coche**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-3-2.png)                                                                                                                 |
| **Acción** 4.3.3 | Explore todos los campos (la imagen estará en blanco).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-3-3.png)                                                                                                                             |

<QuizAlert text='¡Aviso! El material del cuestionario se marcará así' />

| **4.4**          | **Exponer la API mediante la función de coautoría**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora vamos a explorar la función de coautoría. La función de coautoría le permite exponer simultáneamente su API tanto en App Connect Designer como en API Connect. Cuando cree un flujo de API y, a continuación, inicie la API en su instancia de Designer, la API se añadirá automáticamente a un Producto, que se publicará en el Catálogo Sandbox que se proporciona para una organización proveedora en API Connect. El Producto también será visible en el Portal del Desarrollador si se ha habilitado un sitio para el Catálogo. Vamos a probarlo. Aquí, en el Gestor de API, podemos ver que nuestra API se expuso automáticamente desde el Diseñador, utilizando la función de coautoría. El título y el nombre del producto se derivan del nombre del flujo de API de origen y también incluyen una referencia a App Connect Designer. La versión del producto es 0.0.1. Más adelante, en esta demostración, mostraremos más detalles sobre las funciones clave de API Connect para gestionar el ciclo de vida de la API. |
| **Acción** 4.4.1 | Abra el **menú** (1), despliegue la sección **Ejecutar** (2) y seleccione **APIs** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.4.1.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Acción** 4.4.2 | En la página **API** Connect, si es necesario, haga clic en **Common Services User Registry**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-4-2.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Acción** 4.4.3 | Haz clic en el icono **Gestionar**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-4-3.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Acción** 4.4.4 | Haga clic en el catálogo **Sandbox**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.4.5.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Acción** 4.4.5 | En la pestaña **Productos**, debería ver el producto publicado que contiene la API.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-4-5.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

| **4.5**          | **Visualización del producto en el portal para desarrolladores mediante la función de coautoría**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | La función de coautoría permite probar el producto también en el portal para desarrolladores. Con la URL del portal, podemos comprobar que nuestro Producto API está disponible. Con la función de coautoría, dispones de una experiencia de autoría unificada en múltiples Cloud Pak para capacidades de integración. Es importante tener en cuenta que el producto de API existirá en el portal para desarrolladores sólo mientras la API correspondiente en App Connect Designer siga ejecutándose. Cuando se detiene la API en App Connect Designer, el producto API se elimina automáticamente del portal. El propósito de esto es simplificar las pruebas unitarias mientras se desarrolla el flujo. Más adelante en esta demostración, mostraremos los detalles sobre el portal de desarrolladores de producción. |
| **Acción** 4.5.1 | Abra la pestaña **Configuración del catálogo** (1). Haga clic en **Portal** (2). Copie la **URL** del portal (3). Abra una nueva pestaña del navegador y acceda a la URL del portal.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.5.1.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Acción** 4.5.2 | Mostrar el producto API de **seguros de coche** en la página de inicio del portal para desarrolladores.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-5-4.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Acción** 4.5.3 | Haga clic en **Iniciar sesión** (1) en la esquina superior derecha de la página. Utilice el nombre de usuario y la contraseña creados durante el paso de preparación de la demo **Creación del portal del desarrollador para la función de coautoría** 15-16. Haga clic en **Iniciar sesión** (2) en el cuadro de credenciales.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.5.3.png)                                                                                                                                                                                                                                                                                                                          |

| **4.6**          | **Crear una nueva aplicación**                                                                                                                                                                                                                                                                                           |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Como consumidor/desarrollador, vamos a crear una nueva aplicación en el portal. Esto nos dará una clave API, que nos permitirá llamar a nuestras APIs. Solo tenemos que dar un título a la aplicación y copiar la clave y el secreto de la API.                                                                          |
| **Acción** 4.6.1 | Haz clic en **Apps** y en **Crear nueva app**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-1.png)                                                                                                    |
| **Acción** 4.6.2 | Introduzca **Car Repair Application** como **título de la aplicación** (1). Haga clic en **Guardar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-2.png)                                         |
| **Acción** 4.6.3 | En el cuadro de diálogo **Credenciales**, haga clic en **Aceptar**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-3.png)                                                                               |
| **Acción** 4.6.4 | En la pestaña **Suscripción**, muestra lo fácil que es copiar **la Clave API** (también el ID de cliente) haciendo clic en el icono de **copia**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-4.png) |

| **4.7**          | **Suscribirse a la API**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | No nos hemos suscrito a ninguna API, así que vamos a hacerlo ahora. En nuestra demostración sólo hay un producto API al que suscribirse (normalmente habría muchos). Ahora que hemos seleccionado nuestro producto API, podemos ver los planes disponibles. Tendrás que pasar el cursor por encima para ver los límites. ¿Qué aplicación queremos utilizar para suscribirnos? Podemos tener muchas aplicaciones, pero en esta demo sólo hemos creado una. Así que sólo tenemos que seleccionar la aplicación que hemos creado antes y confirmar nuestra suscripción. Y listo, ¡ya estamos suscritos a nuestra API! |
| **Acción** 4.7.1 | Haga clic en **¿Por qué no explora las API disponibles**?![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-1.png)                                                                                                                                                                                                                                                                                                                                                                                   |
| **Acción** 4.7.2 | Haga clic en **Car_Insurance_API_Lab_Short_V3 0.0**.1 .![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script4.7.2.png)                                                                                                                                                                                                                                                                                                                                                                                            |
| **Acción** 4.7.3 | En la sección **Plan por defecto**, haga clic en **Seleccionar**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-7-3.png)                                                                                                                                                                                                                                                                                                                                                                           |
| **Acción** 4.7.4 | Seleccione la **aplicación de reparación de automóviles**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-7-4.png)                                                                                                                                                                                                                                                                                                                                                                                  |
| **Acción** 4.7.5 | Confirme la suscripción pulsando **Siguiente**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-7-5.png)                                                                                                                                                                                                                                                                                                                                                                                             |
| **Acción** 4.7.6 | Haga clic en **Listo**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-7-6.png)                                                                                                                                                                                                                                                                                                                                                                                                                     |

| **4.8**          | **Probar la API**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Ahora estamos de vuelta en la pantalla del producto. Vamos a explorar nuestra API aquí. Desde la página Overview, podemos descargar el OpenAPI Document y obtener el API Endpoint. Ten en cuenta que el portal tiene todo lo que necesitas para llamar a tu API, incluso ha generado clientes en varios idiomas para que copies/pegues en tu aplicación de llamada. Puede probar la API en el área Pruébela. Utilizando el botón Generar, el portal genera una solicitud con datos de muestra aleatorios para usted. Ahora, vamos a probarlo. Genial, recibimos una respuesta, nuestra API está funcionando y hemos pasado por el portal para acceder a ella. |
| **Acción** 4.8.1 | Haga clic en la API **Car_Insurance**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-4-8-1.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Acción** 4.8.2 | Abrir **POST /CarRepairClaim**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-2.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Acción** 4.8.3 | Explore el área de **solicitud de ejemplos**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-3.png)                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Acción** 4.8.4 | Abra la pestaña **Pruébelo**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-4.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Acción** 4.8.5 | Pulse **Generar** (1) y pulse **Enviar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-5.png)                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Acción** 4.8.6 | Explorar la **respuesta**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-6.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## 5 - Desplegar el flujo

| **5.1**          | **Exportar el fichero BAR**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Para desplegar el flujo en un servidor de integración, debe exportarlo como archivo BAR. Todos los ajustes de configuración, salvo las credenciales de conexión de sus cuentas, se conservan en el archivo exportado. Exportemos un archivo BAR ejecutable. Desde el cuadro de mandos, localice el flujo, abra su menú y haga clic en Exportar. Al exportar un flujo, puede elegir exportar su configuración como un archivo YAML o BAR, o como un documento OpenAPI. En nuestro caso, exportamos como archivo BAR. |
| **Acción** 5.1.1 | Expanda el menú **IBM Cloud Pak** (1), abra la sección **Diseño** (2) y haga clic en **Integraciones** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script5.1.1.png)                                                                                                                                                                                                                                         |
| **Acción** 5.1.2 | Haga clic en el icono **Panel de control** (1). Haz clic en el menú de la parte superior derecha del mosaico (2) y selecciona **Exportar** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script5.1.2.png)                                                                                                                                                                                                     |
| **Acción** 5.1.3 | Seleccione **Activo de flujo en tiempo de ejecución (BAR)** (1). Haga clic en **Exportar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-1-2.png)                                                                                                                                                                                                                                              |

| **5.2**          | **Crear un servidor de integración**                                                                                                                                                                                                                                         |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora, abramos el panel de App Connect y creemos un nuevo servidor. Necesitamos crear un servidor de integración para ejecutar nuestra integración. Un servidor de integración es un pod Kubernetes que tiene los contenedores necesarios para ejecutar nuestro archivo BAR. |
| **Acción** 5.2.1 | Abra el **menú principal** (1). Haga clic en **Ejecutar** > **Integraciones** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-2-1.png)                    |
| **Acción** 5.2.2 | Haga clic en **Crear un servidor**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-2-2.png)                                                                   |

| **5.3**          | **Importar el archivo BAR**                                                                                                                                                                                                                                      |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Tenemos que seleccionar el tipo de herramienta que utilizamos para construir la integración. Hemos utilizado el diseñador. Por lo tanto, sólo tenemos que cargar el archivo BAR que exportamos desde el diseñador.                                               |
| **Acción** 5.3.1 | Seleccione **Integración de inicio rápido** (1). Haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-3-1.png)          |
| **Acción** 5.3.2 | Cargue el **archivo BAR** (1) exportado en el paso 5.1.3. Haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-3-2.png) |

| **5.4**          | **Configure su servidor de integración**                                                                                                                                                                                                                                                                                                                                 |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Aquí elegimos qué configuraciones queremos e introducimos la información que queremos para nuestro servidor de integración. ¡Vamos a crearlo!                                                                                                                                                                                                                            |
| **Acción** 5.4.1 | Seleccione **ace-designerdemo-designer-acc** (1). Haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-4-1.png)                                                                                                                 |
| **Acción** 5.4.2 | Introduzca un **nombre** (por ejemplo, carrepair-yourname) para nuestro servidor de integración (1). Seleccione **local** en el **modo de flujos del Diseñador** (2). Haga clic en **Crear** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-4-2.png) |

| **5.5**          | **Verificar el servidor**                                                                                                                                                                                                                                                                                                                                                                                                       |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Ahora tenemos nuestro nuevo servidor de integración. Tenemos que esperar algún tiempo para que se inicien los pods. En este momento, la integración se está ejecutando en el Cloud Pak. Al abrir el servidor, podemos ver nuestro flujo de API. Haga clic de nuevo, y vamos a profundizar más y ver los detalles de nuestra API. Podemos ver la operación REST y la URL base, e incluso podemos descargar el documento OpenAPI. |
| **Acción** 5.5.1 | La página no se actualiza automáticamente, por lo que es necesario actualizarla manualmente para ver el servidor de integración iniciado. Haga clic en nuestro **servidor** de integración .![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-5-1.png)                                                             |
| **Acción** 5.5.2 | Abra nuestro **API Flow**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-5-2.png)                                                                                                                                                                                                                               |
| **Acción** 5.5.3 | **Explorar** la API .![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-5-3.png)                                                                                                                                                                                                                                    |

| **5.6**          | **Probar el flujo en tiempo de ejecución**                                                                                                                                                                                                                                                                                                          |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Vamos a utilizar la sección 'Try It' para probar nuestra API en el servidor de integración. Sólo necesitamos generar nuestro cuerpo y enviar nuestra petición. Voilá, aquí tenemos nuestro nuevo caso creado llamando a la API en el tiempo de ejecución de integración. Podemos comprobar la página de casos de Salesforce para ver el nuevo caso. |
| **Acción** 5.6.1 | Abra la pestaña **Publicar /ReclamaciónReparaciónCoche** (1). Abra la sección **Pruébelo** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-6-1.png)                                                                              |
| **Acción** 5.6.2 | Haga clic en el botón **Generar** (1). Haga clic en **Enviar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-6-2.png)                                                                                                          |
| **Acción** 5.6.3 | Explorar la **respuesta**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-6-3.png)                                                                                                                                                   |
| **Acción** 5.6.4 | Compruebe el nuevo caso en Salesforce.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-5-6-4.png)                                                                                                                                       |

## 6 - Gestión de API

<QuizAlert text='¡Aviso! El material del cuestionario se marcará así' />

| **6.1**          | **Descargar un documento OpenAPI**                                                                                                                                                                                                                                                      |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Hemos creado un flujo de integración de aplicaciones y lo hemos invocado con éxito a través de una llamada a la API REST. Ahora, para hacerla accesible al mundo, es importante añadir seguridad a su alrededor. Exportemos nuestra API a API Connect descargando el documento OpenAPI. |
| **Acción** 6.1.1 | Vuelva a la ventana Cloud Pak for Integration y haga clic en la pestaña **Overview**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-1-1.png)                            |
| **Acción** 6.1.2 | Haga clic en el enlace **Descargar documento OpenAPI**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-1-2.png)                                                          |

| **6.2**          | **Acceder al Gestor de API**                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora, vamos a abrir el componente de gestión de API dentro de Cloud Pak for Integration - API Connect. IBM API Connect es una oferta de gestión de API integrada, con capacidades y herramientas para todas las fases del ciclo de vida de la API. Los pasos clave del ciclo de vida de la API incluyen crear, proteger, gestionar, socializar y analizar. API Connect tiene cuatro componentes principales: API Manager, Analytics, Developer Portal y Gateway. Exploremos el Gestor de API. |
| **Acción** 6.2.1 | Abra el **menú** (1). En la sección de **ejecución** (2), seleccione **APIs** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-2-1.png)                                                                                                                                                                                                                                      |
| **Acción** 6.2.2 | En la página **API Connect**, haga clic en **Registro de usuarios de servicios** comunes .![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-2-2.png)                                                                                                                                                                                                                              |

| **6.3**          | **Desarrollar la API**                                                                                                                                                                                                                                                   |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Aquí, añadimos nuestra API desde un servicio OpenAPI existente seleccionando nuestro archivo YAML. Sólo confirmamos la información sobre la API, y mantenemos la configuración de seguridad. Genial, ¡nuestra API con Client ID está creada!                             |
| **Acción** 6.3.1 | Haga clic en **Desarrollar API y productos**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-3-1.png)                                                     |
| **Acción** 6.3.2 | Haga clic en **Añadir** (1) y elija **API (de REST, GraphQL o SOAP)** en el menú desplegable (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-3-2.png) |
| **Acción** 6.3.3 | Elija **De servicio OpenAPI existente** (1) y, a continuación, haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script6.3.3.png)           |
| **Acción** 6.3.4 | Cargue nuestro archivo **Car_Insurance... YAML** (1) y haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-3-4.png)            |
| **Acción** 6.3.5 | Confirme la información sobre la API y haga clic en **Siguiente**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-3-5.png)                                |
| **Acción** 6.3.6 | Mantenga la configuración de seguridad y haga clic en **Siguiente**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-3-6.png)                              |
| **Acción** 6.3.7 | Este es el resumen de nuestra API.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-3-7.png)                                                                |

| **6.4**          | **Editar la API**                                                                                                                                                                                                                                                                                                     |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Vamos a comprobar nuestra nueva API en el Gestor de APIs. Pondremos nuestra API en línea, cambiaremos la ruta base y la guardaremos. Podemos probar nuestra API aquí en el Gestor de API también. Pero en lugar de probar de nuevo, vamos a ver cómo publicar esta API para compartir con nuestros desarrolladores.   |
| **Acción** 6.4.1 | Haga clic en **Editar API**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-4-1.png)                                                                                                                   |
| **Acción** 6.4.2 | Cambia el conmutador a **Online**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-4-2.png)                                                                                                             |
| **Acción** 6.4.3 | Abra la pestaña **Ruta** base (1). En el campo Ruta base, verá que tiene una barra al final. **Elimínela** (2) y haga clic en **Guardar** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-4-3.png) |

| **6.5**          | **Publicar la API**                                                                                                                                                                                                                                                                   |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Pondremos la API a disposición de los desarrolladores. Para ello, la API debe incluirse en un producto API y, a continuación, publicarse en el catálogo. Un producto dicta los límites de velocidad y el estrangulamiento de la API.                                                  |
| **Acción** 6.5.1 | Abra el **menú** (1) y haga clic en **Publicar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-5-1.png)                                                          |
| **Acción** 6.5.2 | Introduzca **Car Repair APIs** como **Título del producto** (1) y haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-5-2.png)              |
| **Acción** 6.5.3 | Seleccione **Catálogo para uso de demostración (ddd-demo-test-catalog)** (1) y haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-5-3.png) |
| **Acción** 6.5.4 | Haga clic en **Publicar** para aceptar la configuración de visibilidad predeterminada.                                                                                                                                                                                                |
| **Acción** 6.5.5 | Se han publicado **las API de reparación de automóviles**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-5-4.png)                                                     |

<QuizAlert text='¡Aviso! El material del cuestionario se marcará así' />

| **6.6**          | **Añadir un plan de limitación de tarifas**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | La seguridad se aplica a las API. La limitación de tarifas se aplica a las APIs o a los productos API. Vamos a asignar un límite de tarifa para el Producto API. Sólo tenemos que abrir nuestro nuevo producto. La limitación de tarifas se realiza mediante planes. Vamos a crear un nuevo plan oro con un límite de tarifa específico.Ahora tenemos dos planes, el plan oro y el plan por defecto. Podemos tener múltiples planes para diferentes consumidores. Por ejemplo, podemos añadir pasos de aprobación para los consumidores cuando se registran, o podemos asignarles planes como proveedor. |
| **Acción** 6.6.1 | Abra la pestaña **Productos** (1). Haga clic en el producto **API de reparación de coches** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-6-1.png)                                                                                                                                                                                                                                                                                                                                  |
| **Acción** 6.6.2 | Haga clic en **Planes** (1). Haga clic en **Añadir** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-6-2.png)                                                                                                                                                                                                                                                                                                                                                                         |
| **Acción** 6.6.3 | Introduzca **Plan** Oro como **Título** (1). Cambie los **límites de tarifa** a **100 llamadas por 1 minuto** (2). Haga clic en **Guardar** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-6-3.png)                                                                                                                                                                                                                                                                                  |
| **Acción** 6.6.4 | Se ha creado el nuevo plan.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-6-4.png)                                                                                                                                                                                                                                                                                                                                                                                                       |

| **6.7**          | **Volver a publicar el producto**                                                                                                                                                                                                                                                     |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Ahora tenemos que volver a publicar nuestro producto. Se le pedirá un catálogo para publicar. Sólo tenemos una pasarela instalada, así que no tenemos que preocuparnos por eso.                                                                                                       |
| **Acción** 6.7.1 | Abra el **menú** Plan (1) y haga clic en **Publicar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/Script6.7.1.png)                                                            |
| **Acción** 6.7.2 | Seleccione **Catálogo para uso de demostración (ddd-demo-test-catalog)** (1) y haga clic en **Siguiente** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-5-3.png) |
| **Acción** 6.7.3 | Haga clic en **Publicar** para aceptar la configuración de visibilidad predeterminada.                                                                                                                                                                                                |
| **Acción** 6.7.4 | Abra la sección **Gestionar** (1). Abra la sección **Catálogo para uso de demostración** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-7-3.png)                  |
| **Acción** 6.7.5 | Compruebe el **Estado** y los **Planes** del producto .![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-6-7-4.png)                                                        |

## 7 - Trabajar con el portal

| **7.1**          | **Acceder al portal**                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Ahora que hemos publicado nuestra API, tenemos que asegurarnos de que nuestros consumidores de API puedan descubrirla y utilizarla. Nuestro portal permite a los consumidores potenciales de la API ver las API, registrarse y suscribirse a planes de forma autoservicio, probar las API, descargar los documentos OpenAPI - Swagger y mucho más. Obtengamos la URL de nuestro portal y suscribámonos como consumidores de nuestra API utilizando el autoservicio del portal. |
| **Acción** 7.1.1 | Abra la **configuración del Catálogo** (1). Haga clic en **Portal** (2). Copie la **URL del portal** (3).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-1-1.png)                                                                                                                                                                                               |
| **Acción** 7.1.2 | Abra una nueva pestaña del navegador y acceda a la URL del portal.                                                                                                                                                                                                                                                                                                                                                                                                             |

| **7.2**          | **Crear una nueva aplicación**                                                                                                                                                                                                                                             |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Como consumidor/desarrollador, vamos a crear una nueva aplicación en el portal. Esto nos dará una clave API, que nos permitirá llamar a nuestras APIs. Solo tenemos que dar un título a la aplicación y copiar la clave y el secreto de la API.                            |
| **Acción** 7.2.1 | Haga clic en **App** y **Crear nueva app**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-1.png)                                                         |
| **Acción** 7.2.2 | Introduzca **Solicitud de reparación de coches** como **Título** (1). Haga clic en **Guardar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-2.png) |
| **Acción** 7.2.3 | En el cuadro de diálogo **Credenciales**, haga clic en **Aceptar**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-3.png)                                 |
| **Acción** 7.2.4 | En la pestaña **Suscripción**, muestra lo fácil que es copiar el ID de cliente.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-2-4.png)                     |

| **7.3**          | **Suscribirse a la API**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | No nos hemos suscrito a ninguna API, así que vamos a hacerlo ahora. En nuestra demostración sólo hay un producto API al que suscribirse (normalmente habría muchos). Ahora que hemos seleccionado nuestro producto API, podemos ver los planes disponibles. Tendrás que pasar el cursor por encima para ver los límites. Queremos suscribirnos al plan Oro, pero ¿qué aplicación queremos utilizar para suscribirnos? Podemos tener muchas aplicaciones, pero en esta demo sólo hemos creado una. Así que sólo tenemos que seleccionar la aplicación que hemos creado antes y confirmar nuestra suscripción. Y listo, ¡ya estamos suscritos a nuestra API! |
| **Acción** 7.3.1 | Haga clic en **¿Por qué no explora las API disponibles**?![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-1.png)                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Acción** 7.3.2 | Click **Car Repair APIs 1.0**.0 .![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-2.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Acción** 7.3.3 | En la sección **Plan Oro**, haga clic en **Seleccionar**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-3.png)                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Acción** 7.3.4 | Seleccione la **aplicación de reparación de coches**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-4.png)                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Acción** 7.3.5 | Confirme la suscripción pulsando **Siguiente**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-5.png)                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Acción** 7.3.6 | Haga clic en **Listo**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-3-6.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

| **7.4**          | **Probar la API**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Narración**    | Ahora estamos de vuelta en la pantalla del producto. Vamos a explorar nuestra API aquí. Desde la página Overview, podemos descargar el OpenAPI Document y obtener el API Endpoint. Ten en cuenta que el portal tiene todo lo que necesitas para llamar a tu API, incluso ha generado clientes en varios idiomas para que copies/pegues en tu aplicación de llamada. Puede probar la API en el área Pruébela. Utilizando el botón Generar, el portal genera una solicitud con datos de muestra aleatorios para usted. Ahora, vamos a probarlo. Genial, recibimos una respuesta, nuestra API está funcionando y hemos pasado por el portal para acceder a ella. |
| **Acción** 7.4.1 | Haga clic en la API **Car_Insurance**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-1.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Acción** 7.4.2 | Abrir **POST /CarRepairClaim**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-2.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Acción** 7.4.3 | Explore el área de **solicitud de ejemplos**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-3.png)                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Acción** 7.4.4 | Abra la pestaña **Pruébelo**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-4.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Acción** 7.4.5 | Pulse **Generar** (1) y pulse **Enviar** (2).![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-5.png)                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Acción** 7.4.6 | Explorar la **respuesta**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-4-6.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

| **7.5**          | **Ver las estadísticas de la API**                                                                                                                                                                                                                        |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Narración**    | Podemos ver las estadísticas de nuestra API en el Portal. Sólo tenemos que seleccionar nuestra APP, y aquí podemos ver todas las llamadas a la API, incluyendo los posibles errores. Si realizas más llamadas, verás resultados estadísticos más grandes. |
| **Acción** 7.5.1 | Haz clic en **Aplicaciones** en el menú superior.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-5-1.png)                                  |
| **Acción** 7.5.2 | Haga clic en la **aplicación de reparación de coches**.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-5-2.png)                            |
| **Acción** 7.5.3 | Explora las estadísticas de la API.![](https://raw.githubusercontent.com/ibm-garage-tsa/platinum-demos/master/src/pages/300-integration-api-enabled-application-integration/images/300-api-demo-7-5-3.png)                                                |

## Resumen

Resumamos lo que hemos hecho hoy.

En la demostración: accedimos al entorno de Cloud Pak for Integration y exploramos las capacidades; importamos y revisamos el flujo de integración de interacciones automatizadas con clientes; probamos el flujo; desplegamos el flujo en el entorno de ejecución de Cloud Pak; gestionamos el acceso al flujo como una API y configuramos la seguridad y los límites de tarifa; y demostramos cómo un desarrollador puede utilizar el Portal de API para realizar un consumo de autoservicio de la API.

Desde una perspectiva empresarial, utilizamos API e integraciones de aplicaciones para automatizar una serie de pasos para: obtener y validar la información de entrada de un cliente con una preocupación, abrir un caso en Salesforce, adjuntar la información de entrada al caso y responder al cliente con el número de caso y la fecha prevista de resolución.

El cliente que necesita asistencia obtiene una respuesta rápida a su interacción y la confianza de que su empresa está gestionando su solicitud.

Gracias por asistir a la presentación de hoy.
