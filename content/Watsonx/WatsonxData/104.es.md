---
title: '104: Trabajando con MinIO'
timeToComplete: 45
updated: 2023-09-15T00:00:00.000Z
---
<QuizAlert text='¡Atención! ¡El material del cuestionario se marcará así!' />

# Trabajando con MinIO

## Introducción al almacenamiento de objetos

Un atractivo importante de watsonx.data es que se pueden almacenar grandes cantidades de datos en un almacenamiento de objetos a un costo relativamente bajo, con motores de consulta adecuados (como Presto y Spark) que acceden a los datos simultáneamente. Esto permite descargar datos existentes del almacén de datos empresarial (EDW) de un cliente, donde los requisitos de rendimiento y/o la frecuencia con la que se accede a los datos no justifican los costos de tener esos datos en el almacén (tenga en cuenta que los costos son no se limita al almacenamiento de datos en sí; existen costos de preparación y movimiento de datos al almacén, costos de almacenamiento adicionales para imágenes de respaldo más grandes, el impacto de ejecutar cargas de trabajo de prioridad relativamente baja al mismo tiempo que cargas de trabajo de mayor prioridad, etc.) .

Watsonx.data Developer Edition incluye un almacén de objetos local compatible con S3 llamado MinIO. En lugar de utilizar un almacén de objetos S3 externo (lo que ciertamente es posible con watsonx.data), esta práctica de laboratorio utiliza el almacén de objetos MinIO local.
Necesitará las credenciales de MinIO para iniciar sesión y utilizar la consola MinIO. Esto incluye una clave de acceso (nombre de usuario) y una clave secreta (contraseña). Estos valores son específicos de su entorno y se almacenan como variables de entorno en el contenedor de Presto.

1. Abra una ventana de comando de terminal para el servidor watsonx.data como usuario raíz.

2. Ejecute el siguiente comando para extraer y mostrar la clave de acceso (nombre de usuario). Tome nota de esto y guárdelo en un lugar al que pueda consultar más adelante.

    ```bash
      docker exec ibm-lh-presto printenv | grep LH_S3_ACCESS_KEY | sed 's/.*=//'
    ```

3. Ejecute el siguiente comando para extraer y mostrar la clave secreta (contraseña). Tome nota de esto y guárdelo en un lugar al que pueda consultar más adelante.

    ```bash
      docker exec ibm-lh-presto printenv | grep LH_S3_SECRET_KEY | sed 's/.*=//'
    ```

4. Abra la consola MinIO en una nueva ventana del navegador. La URL se puede encontrar en los detalles de su reserva de TechZone.

   > **Nota:** Es posible que se le advierta sobre un posible riesgo de seguridad, en cuyo caso puede continuar como lo hizo anteriormente con la consola watsonx.data.

5. Consulte las credenciales de MinIO que copió anteriormente e ingrese la clave de acceso para **Nombre de usuario** y la clave secreta para **Contraseña**. Haga clic en el botón **Iniciar sesión**.

   ![](./images/104/minio.png)

   Esto abre la pantalla **Explorador de objetos**. Hay dos depósitos que existen de forma predeterminada: **hive-bucket** y **iceberg-bucket**. Ya hay una serie de objetos dentro de estos depósitos: las tablas precargadas en el depósito de colmena y las tablas que ha creado en el depósito de iceberg.

   ![](./images/104/minio-buckets.png)

6. Vuelva a consultar la pantalla **Administrador de infraestructura** en la consola **watsonx.data** y observe cómo estos dos depósitos se registraron previamente con watsonx.data.

   ![](./images/104/watsonx-data-buckets.png)

   Todas las tablas creadas en el catálogo **hive_data** tienen sus archivos (objetos) en el depósito de colmena. Asimismo, todas las tablas creadas en el catálogo **iceberg_data** tienen sus archivos (objetos) en el depósito **iceberg-bucket**.

7. Regrese a la consola MinIO. Haga clic en la fila del depósito **iceberg-bucket**.

   Hay dos carpetas enumeradas, una para cada esquema que se ha creado en el catálogo asociado con este depósito (**iceberg_data**). Watsonx.data utiliza el nombre del esquema para la carpeta cuando la crea (como cuando creó el esquema **my_schema** anteriormente en la práctica de laboratorio). Recuerde que cuando creó el esquema **newschema** usando la CLI de Presto, especificó la ubicación como 's3a://iceberg-bucket/newschema', que coincide con lo que ve aquí.
   <QuizAlert text="Material del cuestionario: preste atención a la estructura del objeto S3"/>
  
   ![](./images/104/minio-buckets-schema.png)

8. Haga clic en la fila de la carpeta **esquema de noticias**.

   En la carpeta **newschema** hay una subcarpeta llamada **usuarios**. Cuando creó la tabla de usuarios en Presto CLI anteriormente, creó esta subcarpeta con el mismo nombre que la tabla.

   ![](./images/104/minio-buckets-users.png)

9. Haga clic en la fila de la carpeta **usuarios**.

   Hay dos subcarpetas dentro de la carpeta de la tabla. La carpeta **datos** contiene los archivos Parquet que contienen los datos reales de la tabla. La carpeta **metadatos** contiene una serie de archivos de metadatos (de distintos formatos de archivos de datos) utilizados por Iceberg.

   ![](./images/104/minio-buckets-users-data.png)

10. Revise los archivos dentro de las carpetas **datos** y **metadatos**. Verá una combinación de archivos Parquet y Avro.

   Para volver a la jerarquía de carpetas, utilice **rutas de navegación** en la parte superior del panel de navegación. Al hacer clic en el icono <, accederá a la carpeta principal en la que se encuentra actualmente.

   ![](./images/104/minio-buckets-users-navigation.png)

### Felicitaciones, has llegado al final del laboratorio 104.

Haga clic en [lab 105](/watsonx/watsonxdata/105) para comenzar la siguiente práctica de laboratorio.
